<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intruder Thoughts! - CindnessKult</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --primary-bg: #1a1a1d;
            --primary-text: #e6e6e6;
            --accent-magenta: #f000f0;
            --accent-cyan: #00ffff;
            --accent-lime: #00ff00;
            --accent-yellow: #ffff00;
            --border-style: 2px dotted var(--accent-magenta);
            --font-family: "'Press Start 2P'", monospace;
        }

        body {
            background-color: var(--primary-bg);
            color: var(--primary-text);
            font-family: var(--font-family);
            font-size: 14px;
            line-height: 1.8;
            margin: 0;
            padding: 20px;
            text-shadow: 0 0 2px var(--accent-cyan);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 1000px;
            border: 2px solid var(--accent-magenta);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 15px var(--accent-magenta);
        }

        a.home-link {
            display: inline-block;
            background-color: var(--accent-magenta);
            color: var(--primary-bg);
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 8px;
            font-size: 16px;
            text-shadow: none;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            border: 2px solid var(--accent-cyan);
        }

        a.home-link:hover {
            background-color: var(--accent-cyan);
            color: var(--primary-bg);
            box-shadow: 0 0 10px var(--accent-cyan);
            border-color: var(--accent-magenta);
        }

        h1 {
            color: var(--accent-magenta);
            font-size: 32px;
            text-align: center;
            margin: 0 0 10px 0;
            text-shadow: 0 0 5px var(--accent-magenta), 0 0 10px var(--accent-magenta);
            line-height: 1.2;
        }

        .intro-text {
            text-align: center;
            color: var(--accent-cyan);
            max-width: 800px;
            margin: 0 auto 30px auto;
        }

        .intro-text span {
            color: var(--accent-yellow);
        }

        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }

        .panel {
            flex: 1;
            min-width: 300px;
            padding: 20px;
            border: 2px solid var(--accent-cyan);
            border-radius: 10px;
        }

        .panel h2 {
            color: var(--accent-lime);
            font-size: 20px;
            margin-top: 0;
            text-align: center;
            line-height: 1.3;
        }
        
        .panel p {
            text-align: center;
            margin-bottom: 20px;
        }

        .tier-list .tier {
            display: flex;
            align-items: stretch;
            margin-bottom: 10px;
        }

        .tier-label {
            width: 40px;
            height: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-bg);
            margin-right: 10px;
            border-radius: 5px;
        }

        .tier-s { background-color: #ff7f7f; }
        .tier-a { background-color: #ffbf7f; }
        .tier-b { background-color: #ffff7f; }
        .tier-c { background-color: #7fff7f; }
        .tier-d { background-color: #7fbfff; }

        .tier textarea {
            flex-grow: 1;
            background-color: transparent;
            border: var(--border-style);
            border-radius: 5px;
            color: var(--primary-text);
            font-family: var(--font-family);
            font-size: 14px;
            padding: 10px;
            resize: vertical;
            min-height: 80px;
            text-shadow: 0 0 2px var(--accent-cyan);
        }

        textarea:focus {
            outline: 2px solid var(--accent-lime);
            box-shadow: 0 0 10px var(--accent-lime);
        }

        .boss-rush {
            margin-top: 40px;
            border-top: 2px solid var(--accent-magenta);
            padding-top: 20px;
        }

        .boss-rush h2 {
            color: var(--accent-yellow);
            font-size: 24px;
            text-align: center;
        }
        
        .boss-rush p {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .boss-rush span {
             color: var(--accent-lime);
        }

        .exposure-table {
            width: 100%;
            border-collapse: collapse;
        }

        .exposure-table th, .exposure-table td {
            border: var(--border-style);
            padding: 5px;
            text-align: center;
        }

        .exposure-table th {
            color: var(--accent-cyan);
            font-size: 16px;
            padding-bottom: 10px;
        }

        .exposure-table td {
            padding: 0;
        }

        .exposure-table textarea {
            width: 100%;
            height: 100%;
            background: transparent;
            border: none;
            color: var(--primary-text);
            font-family: var(--font-family);
            font-size: 14px;
            padding: 10px;
            resize: none;
            box-sizing: border-box;
            min-height: 50px;
        }
        
        .exposure-table textarea:focus {
            outline: none;
        }

        .footer {
            text-align: center;
            margin-top: 30px;
        }

        .download-btn {
            background-color: var(--accent-lime);
            color: var(--primary-bg);
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 8px;
            font-size: 16px;
            font-family: var(--font-family);
            text-shadow: none;
            cursor: pointer;
            border: 2px solid var(--accent-yellow);
            transition: all 0.3s ease;
        }

        .download-btn:hover {
            background-color: var(--accent-yellow);
            box-shadow: 0 0 10px var(--accent-yellow);
            border-color: var(--accent-lime);
        }

        .note {
            margin-top: 20px;
            color: #aaa;
            font-size: 12px;
        }
        
        .note a {
            color: var(--accent-cyan);
        }
    </style>
</head>
<body>

    <a href="https://www.cindnesskult.com" class="home-link" target="_blank" rel="noopener noreferrer">&lt; Back to CindnessKult.com</a> (not just right)<br>

    <div class="container" id="capture-area">
        <h1>&gt; INTRUDER THOUGHTS! _</h1>
        <p class="intro-text">
            Your mission, should you choose to accept it: Face down the brain glitches.
            This page is an <span>**exposure hierarchy**</span>, designed to help you rank your
            fears and tackle them one by one. The goal is to bravely face the 'S' Tiers
            until they feel like 'D' Tiers!
        </p>

        <div class="main-content">
            <div class="panel">
                <h2>LEVEL 1: INTRUSIVE GLITCHES (Obsessions)</h2>
                <p>Unwanted thoughts, images, or urges that get stuck on repeat. List your fears from most distressing (S) to least (D).</p>
                <div class="tier-list">
                    <div class="tier"><div class="tier-label tier-s">S</div><textarea></textarea></div>
                    <div class="tier"><div class="tier-label tier-a">A</div><textarea></textarea></div>
                    <div class="tier"><div class="tier-label tier-b">B</div><textarea></textarea></div>
                    <div class="tier"><div class="tier-label tier-c">C</div><textarea></textarea></div>
                    <div class="tier"><div class="tier-label tier-d">D</div><textarea></textarea></div>
                </div>
            </div>

            <div class="panel">
                <h2>SIDE QUEST: DEBUG ROUTINES (Compulsions)</h2>
                <p>Repetitive rituals or mental acts used to "cancel out" the glitch or reduce distress. What do you feel forced to do?</p>
                <div class="tier-list">
                    <div class="tier"><div class="tier-label tier-s">S</div><textarea></textarea></div>
                    <div class="tier"><div class="tier-label tier-a">A</div><textarea></textarea></div>
                    <div class="tier"><div class="tier-label tier-b">B</div><textarea></textarea></div>
                    <div class="tier"><div class="tier-label tier-c">C</div><textarea></textarea></div>
                    <div class="tier"><div class="tier-label tier-d">D</div><textarea></textarea></div>
                </div>
            </div>
        </div>

        <div class="boss-rush">
            <h2>BOSS RUSH: EXPOSURE TRIALS</h2>
            <p>Log your training sessions here. An exposure trial means facing a feared thought or situation <span>**without**</span> doing the compulsion. Start your training!</p>
            <table class="exposure-table">
                <thead>
                    <tr>
                        <th>Trial #</th>
                        <th>Exposure Challenge</th>
                        <th>Difficulty (1-10)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td><textarea></textarea></td>
                        <td><textarea></textarea></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><textarea></textarea></td>
                        <td><textarea></textarea></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><textarea></textarea></td>
                        <td><textarea></textarea></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td><textarea></textarea></td>
                        <td><textarea></textarea></td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td><textarea></textarea></td>
                        <td><textarea></textarea></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="footer">
        <button class="download-btn" id="download-btn">Download Page</button>
        <p class="note">
            NOTE: This page does not save your data automatically! Click the download button to save your progress as an image.
            <br>
            You can then upload the saved image to your Google Drive or other cloud storage.
        </p>
    </div>

    <script>
        // --- JavaScript for Download Functionality ---
        document.getElementById('download-btn').addEventListener('click', function() {
            // Temporarily remove focus outlines for a cleaner screenshot
            const textareas = document.querySelectorAll('textarea');
            textareas.forEach(ta => ta.style.outline = 'none');

            html2canvas(document.getElementById('capture-area'), {
                backgroundColor: '#1a1a1d', // Ensure background is captured
                onclone: (document) => {
                    // This ensures text inside textareas is visible in the canvas
                    const textareas = document.querySelectorAll('textarea');
                    textareas.forEach(textarea => {
                        const p = document.createElement('p');
                        p.style.margin = '10px';
                        p.style.padding = '10px';
                        p.style.whiteSpace = 'pre-wrap'; // Preserve line breaks
                        p.style.wordWrap = 'break-word'; // Wrap long text
                        p.style.fontFamily = "'Press Start 2P', monospace";
                        p.style.fontSize = "14px";
                        p.style.color = "#e6e6e6";
                        p.innerText = textarea.value;
                        textarea.parentNode.replaceChild(p, textarea);
                    });
                }
            }).then(canvas => {
                // Create a link element
                const link = document.createElement('a');
                // Set the download attribute with a filename
                link.download = 'kindnesskult-intruder-thoughts.png';
                // Set the href to the canvas data URL
                link.href = canvas.toDataURL('image/png');
                // Trigger the download
                link.click();

                // Restore focus outlines after screenshot
                 textareas.forEach(ta => ta.style.outline = '');
            });
        });
    </script>

</body>
</html>
