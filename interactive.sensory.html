<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensory Toolkit Builder - CindnessKult</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* This CSS provides the styling for your header and the sticker button. */
        /* It can be used on any page. */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e6e6fa; /* Light lavender background */
            color: #2c2c44; /* Dark blue/purple text */
            margin: 0;
            padding: 20px;
        }

        .main-container {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .site-header {
            border: 4px solid #9370db; /* Medium purple border */
            background-color: #f0f0ff;
            padding: 1rem;
            text-align: center;
            margin-bottom: 2.5rem;
            box-shadow: 4px 4px 0px #9370db;
        }

        .site-header h1 {
            font-family: 'Press Start 2P', cursive;
            color: #483d8b;
            font-size: 2.5rem;
            margin: 0;
        }

        .site-header p {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.75rem;
            color: #483d8b;
            margin-top: 0.5rem;
        }
        
        .sticker-link {
            display: block;
            width: 200px;
            height: 200px;
            margin: 0 auto 2rem auto;
            text-decoration: none;
        }
        .sticker-container {
            width: 100%;
            height: 100%;
            background-color: #e8e6ff;
            border: 4px solid #98c379; /* Green border */
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            box-shadow: 0 5px 10px rgba(0,0,0,0.2), 0 0 0 5px #fff;
            position: relative;
            transition: transform 0.2s ease;
        }
        .sticker-link:hover .sticker-container {
            transform: scale(1.05);
        }
        .yin-yang {
            position: relative;
            width: 60px;
            height: 60px;
            border-color: #304694;
            border-style: solid;
            border-width: 2px;
            border-radius: 50%;
            background: linear-gradient(to bottom, #556fc8 50%, #e8e6ff 50%);
            flex-shrink: 0;
            margin-top: -20px;
        }
        .yin-yang::before,
        .yin-yang::after {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 15px;
            height: 15px;
            border-radius: 50%;
            border: 1px solid #304694;
        }
        .yin-yang::before {
            top: 7.5px;
            background-color: #e8e6ff;
        }
        .yin-yang::after {
            bottom: 7.5px;
            background-color: #556fc8;
        }
        .curved-text-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }
        .char {
            position: absolute;
            height: 100px;
            transform-origin: bottom center;
            left: 50%;
            top: 0;
            color: #304694;
            font-size: 0.8rem;
            font-family: 'Press Start 2P', cursive;
            text-shadow: -1px 1px 0 #98c379;
        }
        .bottom-text {
            color: #322277;
            font-size: 0.75rem;
            font-family: 'Press Start 2P', cursive;
            margin-top: 0.5rem;
            transform: rotate(-5deg);
        }

        /* Styles for the Sensory Toolkit Page */
        .content-box {
            background-color: #f0f0ff;
            border: 4px solid #9370db;
            box-shadow: 4px 4px 0px #9370db;
            padding: 1.5rem 2rem;
            margin-bottom: 2.5rem;
        }
        .title {
            font-family: 'Press Start 2P', cursive;
            text-shadow: -2px -2px 0 #98c379, 2px -2px 0 #98c379, -2px 2px 0 #98c379, 2px 2px 0 #98c379;
            color: #483d8b;
        }
        .btn {
            font-family: 'Press Start 2P', cursive;
            border: 2px solid #483d8b;
            background-color: #fff;
            color: #483d8b;
            padding: 6px 10px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
        }
        .btn:hover {
            background-color: #98c379;
            color: #f0f0ff;
            border-color: #98c379;
        }
        .btn.active {
            background-color: #556fc8;
            color: #e8e6ff;
            border-color: #556fc8;
        }
        .btn-primary {
            background-color: #556fc8;
            color: #e8e6ff;
            border: 4px solid #98c379;
            padding: 15px 25px;
            font-size: 18px;
        }
         .btn-primary:hover {
            background-color: #304694;
        }
        .card-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin-bottom: 8px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 4px;
        }
        .selection-buttons button {
            margin-left: 5px;
        }
        #results-container {
            font-family: 'Inter', sans-serif;
            white-space: pre-wrap;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            border: 2px dashed #556fc8;
            line-height: 1.8;
            font-size: 1rem;
        }
        #name-input {
            font-family: 'Inter', sans-serif;
            border: 2px solid #9370db;
            padding: 10px;
            width: 100%;
            max-width: 400px;
            box-sizing: border-box;
            border-radius: 4px;
        }
    </style>
</head>
<body>

    <div class="main-container">
        
        <!-- ===== START OF REUSABLE HEADER CODE ===== -->
        <a href="https://www.cindnesskult.com" class="sticker-link">
            <div class="sticker-container">
                <div class="curved-text-container">
                    <!-- JS will populate this -->
                </div>
                <div class="yin-yang"></div>
                <p class="bottom-text">not just right</p>
            </div>
        </a>
        
        <header class="site-header">
            <h1>Cindness KULT</h1>
            <p>*✧The answer is always kindness. (not a cult btw)✧*</p>
        </header>
        <!-- ===== END OF REUSABLE HEADER CODE ===== -->

        <!-- ===== HOW TO USE SECTION ===== -->
        <div class="content-box">
            <h2 class="title text-2xl text-center mb-4" style="font-size: 1.25rem;">How To Use Your Toolkit</h2>
            <p style="text-align: center; font-family: 'Inter', sans-serif; line-height: 1.6;">
                When you know you're going to be somewhere that has sensory triggers (your dislikes), try to incorporate sensory soothers and likes into your regimen as a preventative approach.
                <br><br>
                <strong style="color: #6a5acd;">For example:</strong> If you have to go somewhere with harsh lighting (a trigger) but are soothed by calming scents and chewing (soothers/likes), you could bring some mint gum to help regulate.
            </p>
        </div>
        <!-- ===== END OF HOW TO USE SECTION ===== -->


        <!-- ===== SENSORY TOOLKIT PAGE CONTENT ===== -->
        <div class="content-box">
            <header class="text-center mb-8">
                <h2 class="title text-3xl md:text-4xl">Sensory Toolkit</h2>
                <p class="mt-4 text-sm font-bold">Select a category for each item below.</p>
            </header>

            <main>
                <div class="text-center mb-8">
                    <label for="name-input" class="block mb-2 font-bold">Enter Your Name:</label>
                    <input type="text" id="name-input" placeholder="Your Name Here">
                </div>

                <div id="card-list" class="space-y-2 mb-8 max-h-[50vh] overflow-y-auto p-4 bg-black bg-opacity-10 rounded-md">
                    <!-- Cards will be dynamically inserted here -->
                </div>

                <div class="text-center my-8">
                    <button id="make-list-btn" class="btn btn-primary">Make My Toolkit</button>
                </div>

                <div id="results-section" class="hidden">
                    <h2 class="title text-2xl text-center mb-6">Your Sensory Toolkit</h2>
                    <div id="results-container">
                        <!-- Generated list will appear here -->
                    </div>
                    <div class="flex justify-center gap-4 mt-6">
                        <button id="download-btn" class="btn">Download Your Sensory Toolkit</button>
                    </div>
                </div>
            </main>
        </div>

    </div>

    <script>
        // This script powers the reusable header sticker button.
        document.addEventListener('DOMContentLoaded', function () {
            const text = "CindnessKult.com";
            const container = document.querySelector('.curved-text-container');
            if (container) {
                const textLength = text.length;
                const totalAngle = 180;
                const angleIncrement = totalAngle / (textLength - 1);
                const startAngle = -totalAngle / 2;

                text.split('').forEach((char, i) => {
                    const span = document.createElement('span');
                    span.className = 'char';
                    span.innerText = char;
                    const angle = startAngle + (i * angleIncrement);
                    span.style.transform = `translateX(-50%) rotate(${angle}deg)`;
                    container.appendChild(span);
                });
            }
        });

        // --- SENSORY TOOLKIT SCRIPT --- //
        const cardData = [
            // Visual 👁️
            { text: 'Natural lighting 👁️' }, { text: 'Dim or warm lighting 👁️' }, { text: 'Bright or cool lighting 👁️' },
            { text: 'Minimalist & organized spaces 👁️' }, { text: 'Vibrant colors & patterns 👁️' },
            // Auditory 🔊
            { text: 'Quiet 🔊' }, { text: 'Steady background noise (white, brown, etc.) 🔊' }, { text: 'Music or TV in background 🔊' },
            { text: 'A specific song on repeat 🔊' },
            // Olfactory 👃
            { text: 'Subtle or mild scents 👃' }, { text: 'Fresh or clean smells 👃' }, { text: 'Food-related scents 👃' },
            { text: 'Earthy or herbal scents 👃' },
            // Tactile ✋
            { text: 'Light touch ✋' }, { text: 'Deep pressure ✋' }, { text: 'Using a fidget toy ✋' },
            { text: 'Soft textures (blankets, etc) ✋' }, { text: 'Petting an animal ✋' }, { text: 'A warm bath or shower ✋' },
            // Oral 👅
            { text: 'Chewing gum 👅' }, { text: 'A crunchy snack 👅' }, { text: 'A warm beverage 👅' },
            { text: 'Hard candy or a lollipop 👅' }, { text: 'A carbonated drink 👅' },
            // Clothing 👕
            { text: 'Loose-fitting clothing 👕' }, { text: 'Tight/Compression clothing 👕' }, { text: 'Soft, tagless materials 👕' },
            // Vestibular/Movement 🤸
            { text: 'Gentle rocking or swaying 🤸' }, { text: 'Swinging 🤸' }, { text: 'Jumping or bouncing 🤸' },
            { text: 'Repetitive movements (stimming/pacing) 🤸' },
            // Environment 🌳
            { text: 'Being outdoors 🌳' }, { text: 'Being indoors 🌳' }, { text: 'An open space 🌳' }, { text: 'A small, cozy nook 🌳' },
            // Temperature 🌡️
            { text: 'A cool environment 🌡️' }, { text: 'A warm environment 🌡️' }, { text: 'A gentle breeze or fan 🌡️' },
            // Social 👥
            { text: 'Being in a large crowd 👥' }, { text: 'A small group of familiar people 👥' }, { text: 'Being alone 👥' },
            // Proprioceptive 💪
            { text: 'Lifting heavy items 💪' }, { text: 'Using a weighted blanket or lap pad 💪' },
            // Triggers
            { text: 'Harsh or flickering lights ⚡' }, { text: 'Cluttered or busy environments ⚡' }, { text: 'Loud, sudden, or repetitive noises ⚡' },
            { text: 'Strong smells (perfume, chemicals) ⚡' }, { text: 'Rough or scratchy textures ⚡' }, { text: 'Unexpected or light touch ⚡' },
            { text: 'Specific food textures (e.g., mushy) ⚡' }, { text: 'Tight clothing or scratchy tags ⚡' }, { text: 'Crowded or confined spaces ⚡' },
            { text: 'Extreme heat or cold ⚡' }, { text: 'Invasion of personal space ⚡' }
        ];

        const selections = {}; 

        const cardListContainer = document.getElementById('card-list');
        const makeListBtn = document.getElementById('make-list-btn');
        const resultsSection = document.getElementById('results-section');
        const resultsContainer = document.getElementById('results-container');
        const downloadBtn = document.getElementById('download-btn');
        const nameInput = document.getElementById('name-input');

        function renderCardList() {
            cardData.sort(() => Math.random() - 0.5); 
            cardData.forEach((card, index) => {
                const cardId = `card-${index}`;
                const item = document.createElement('div');
                item.className = 'card-item';
                item.dataset.id = cardId;
                
                item.innerHTML = `
                    <span class="text-sm">${card.text}</span>
                    <div class="selection-buttons" data-id="${cardId}">
                        <button class="btn" data-category="like">Like</button>
                        <button class="btn" data-category="dislike">Dislike</button>
                        <button class="btn" data-category="soother">Soother</button>
                        <button class="btn" data-category="neutral">Neutral</button>
                    </div>
                `;
                cardListContainer.appendChild(item);
            });
        }

        function handleSelection(event) {
            const target = event.target;
            if (target.tagName !== 'BUTTON') return;

            const category = target.dataset.category;
            const cardId = target.parentElement.dataset.id;
            
            selections[cardId] = category;

            const buttons = target.parentElement.querySelectorAll('button');
            buttons.forEach(btn => btn.classList.remove('active'));
            target.classList.add('active');
        }

        function makeList() {
            const categorized = { like: [], dislike: [], soother: [], neutral: [] };

            for (const cardId in selections) {
                const category = selections[cardId];
                const cardIndex = parseInt(cardId.split('-')[1]);
                const card = cardData[cardIndex];
                if (card) {
                    categorized[category].push(card);
                }
            }
            
            const name = nameInput.value.trim();
            const toolkitTitle = name ? `${name.toUpperCase()}'S SENSORY TOOLKIT` : 'MY SENSORY TOOLKIT';

            let resultsText = `♡ ⟡ ˙⋆ ${toolkitTitle} ⋆˙ ⟡ ♡\n`;
            resultsText += `========================================\n\n`;

            const generateSection = (title, emoji, items) => {
                resultsText += `--- ${title} ${emoji} ---\n`;
                if (items.length > 0) {
                    items.forEach(c => resultsText += `• ${c.text}\n`);
                } else {
                    resultsText += `(none selected)\n`;
                }
                resultsText += `\n`;
            };

            generateSection('LIKES', '❤️', categorized.like);
            generateSection('DISLIKES / TRIGGERS', '⚡', categorized.dislike);
            generateSection('SOOTHERS / HELPERS', '🌿', categorized.soother);
            generateSection('NEUTRAL', '😐', categorized.neutral);

            resultsContainer.textContent = resultsText;
            resultsSection.classList.remove('hidden');
            makeListBtn.classList.add('hidden');
            cardListContainer.parentElement.classList.add('hidden');
            nameInput.parentElement.classList.add('hidden');

            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }
        
        function downloadList() {
            const name = nameInput.value.trim();
            const filename = name ? `${name.replace(/\s+/g, '_')}-sensory-toolkit.txt` : 'my-sensory-toolkit.txt';
            const textToDownload = resultsContainer.textContent;
            const blob = new Blob([textToDownload], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        cardListContainer.addEventListener('click', handleSelection);
        makeListBtn.addEventListener('click', makeList);
        downloadBtn.addEventListener('click', downloadList);

        renderCardList();
    </script>
</body>
</html>
